= field_set_tag 'Player Stats' do
  %h2= game.team.school.name
  = render partial: 'baseball_player_stats.html.haml', locals: { game: game }

  %h2= game.opponent.school.name
  = render partial: 'baseball_player_stats.html.haml', locals: { game: game }

= field_set_tag 'Game Stats' do
  %table.game-stats
    %thead
      %tr
        %th Team
        %th 1
        %th 2
        %th 3
        %th 4
        %th 5
        %th 6
        %th 7
        %th.add-period
          %a{ href: '#', title: 'Add inning' }
            %span.icon-plus
        %th R
        %th H
        %th E

    %tbody
      %tr.period-scores
        %td.team-name= game.team.school.name

        - %w{1 2 3 4 5 6 7}.each do |period|
          %td{ class: period.to_s.downcase }
            %input{ name: game_stats_period_field(game.team, period), type: 'text', value: game.stats.team_stats(game.team_id).points(period) }

        %td.add-period

        %td.final-points
          = game.stats.team_stats(game.team_id).final

        %td.hits
          %input{ name: 'hits', type: 'text', value: game.stats.team_stats(game.team_id).hits }

        %td.errors
          %input{ name: 'errors', type: 'text', value: game.stats.team_stats(game.team_id).errors }

      %tr.period-scores
        %td.opponent= game.opponent.school.name

        - %w{1 2 3 4 5 6 7}.each do |period|
          %td{ class: period.to_s.downcase }
            %input{ name: game_stats_period_field(game.opponent, period), type: 'text', value: game.stats.team_stats(game.opponent_id).points(period) }

        %td.final-points

        %td.add-period
          = game.stats.team_stats(game.opponent_id).final

        %td.hits
          %input{ name: 'hits', type: 'text', value: game.stats.team_stats(game.opponent_id).hits }

        %td.errors
          %input{ name: 'errors', type: 'text', value: game.stats.team_stats(game.opponent_id).errors }
